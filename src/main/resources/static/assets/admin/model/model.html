<div class="container mt-4"></div>
<div class="card">
    <div class="card-header bg-primary text-white">
        <h5 class="mb-0">Model Management</h5>
    </div>
    <div class="card-body">
        <!-- Add Series Form -->
        <div class="mb-3">
            <h6 class="card-title">Series Details</h6>
            <form ng-submit="addSeries()">
                <div class="row">
                    <div class="col-md-6 mb-2">
                        <label for="seriesID" class="form-label">ID</label>
                        <input type="text" id="seriesID" ng-model="Sform.id" class="form-control" disabled>
                    </div>
                    <div class="col-md-6 mb-2">
                        <label for="categoryName" class="form-label">Series Name</label>
                        <input type="text" id="seriesName" ng-model="Sform.name" class="form-control" required>
                    </div>
                </div>
                <div class="d-flex justify-content-end">
                    <button ng-click="create1()" class="btn btn-primary me-2">
                        <i class="bi bi-plus"></i> Create
                    </button>
                    <button ng-click="update1()" class="btn btn-success me-2">
                        <i class="bi bi-save"></i> Update
                    </button>
                    <button ng-click="delete1(Sform)" class="btn btn-danger me-2">
                        <i class="bi bi-trash"></i> Delete
                    </button>
                    <button ng-click="reset1()" class="btn btn-info">
                        <i class="bi bi-arrow-clockwise"></i> Reset
                    </button>
                </div>
            </form>
        </div>

        <hr>

        <div class="row">
            <h6 class="card-title mb-2">Product Model Details</h6>
            <div class="col-sm-4 text-center">
                <label for="image">
                    <img ng-src="{{'/assets/images/' + form.image}}" class="img-fluid" style="max-height: 200px;">
                </label>
            </div>

            <div class="col-sm-8">
                <!-- Add Model Form -->
                <div class="mb-3">
                    <form ng-submit="addCategory()">
                        <div class="row">
                            <div class="col-md-6 mb-2">
                                <label for="categoryID" class="form-label">ID</label>
                                <input type="text" id="categoryID" ng-model="form.id" class="form-control" disabled>
                            </div>
                            <div class="col-md-6 mb-2">
                                <label for="categoryName" class="form-label">Series</label>
                                <select id="series" ng-model="form.series.id" class="form-select">
                                    <option ng-repeat="c in series" ng-value="c.id">{{c.name}}</option>
                                </select>
                            </div>
                        </div>  
                        <div class="row">
                            <div class="col-md-6 mb-2">
                                <label for="categoryName" class="form-label">Model Name</label>
                                <input type="text" id="categoryName" ng-model="form.name" class="form-control"
                                    required>
                            </div>                            
                            <div class="col-md-6 mb-2">
                                <label for="categoryName" class="form-label">Base Price</label>
                                <input type="text" id="categoryName" ng-model="form.price" class="form-control"
                                    required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="mb-2">
                                <label for="imageUpload" class="form-label">Image</label>
                                <input type="file" class="form-control" id="imageUpload"
                                    onchange="angular.element(this).scope().imageChanged(this.files)">
                            </div>                            
                        </div>
                        <div class="d-flex justify-content-end">
                            <button ng-click="create()" class="btn btn-primary me-2">
                                <i class="bi bi-plus"></i> Create
                            </button>
                            <button ng-click="update()" class="btn btn-success me-2">
                                <i class="bi bi-save"></i> Update
                            </button>
                            <button ng-click="delete(form)" class="btn btn-danger me-2">
                                <i class="bi bi-trash"></i> Delete
                            </button>
                            <button ng-click="reset()" class="btn btn-info">
                                <i class="bi bi-arrow-clockwise"></i> Reset
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            <hr>

            <!-- Series List -->
            <h6 class="card-title">Series List</h6>
            <table class="table table-striped">
                <thead class="bg-secondary text-white">
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in series">
                        <td>{{item.id}}</td>
                        <td>{{item.name}}</td>
                        <td>
                            <div class="btn-group btn-group-sm" role="group" aria-label="Actions">
                                <button ng-click="edit1(item)" class="btn btn-warning">
                                    <i class="bi bi-pencil"></i> Edit
                                </button>
                                <button ng-click="delete1(item)" class="btn btn-danger">
                                    <i class="bi bi-trash"></i> Delete
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <hr>
            <!-- Model List -->
            <h6 class="card-title">Model List</h6>
            <table class="table table-striped">
                <thead class="bg-secondary text-white">
                    <tr>
                        <th>ID</th>
                        <th>Image</th>
                        <th>Series</th>
                        <th>Model</th>
                        <th>Base Price</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in items">
                        <td>{{item.id}}</td>
                        <td><img src="/assets/images/{{item.image}}" class="img-fluid" style="width: 80px;" alt="{{item.name}}"></td>
                        <td>{{item.series.name}}</td>
                        <td>{{item.name}}</td>
                        <td>{{item.price | number : 0}} Ä‘</td>
                        <td>
                            <div class="btn-group btn-group-sm" role="group" aria-label="Actions">
                                <button ng-click="edit(item)" class="btn btn-warning">
                                    <i class="bi bi-pencil"></i> Edit
                                </button>
                                <button ng-click="delete(item)" class="btn btn-danger">
                                    <i class="bi bi-trash"></i> Delete
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>